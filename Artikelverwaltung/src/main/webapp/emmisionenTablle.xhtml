<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
      
<h:head>
<link rel="stylesheet" type="text/css" media="screen" href="style1.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Insert title here</title>
</h:head>
 <h:body>
 
	 <h:outputText value="Aktueller Benutzer: #{backEndController.userBean.userName}"/>
<div id="head-div">

	
		<h:form styleClass="head">
			<h:outputLabel for="suchEingabe">Land suchen: </h:outputLabel>
			<h:inputText value="#{backEndController.suchEingabe}">
				<f:validateRegex pattern="[A-Za-zÄÜÖäüö\s]+"/>
			</h:inputText>
			<p:ajax event="keyup" update="filterTabelle" listener="#{backEndController.updateFilterTabelle}"/>
		</h:form>
		
		<a styleClass="head" href="neuesLand.xhtml">Land hinzufügen</a>
		
		<h:form styleClass="head">
  <h:commandButton value="Änderungsvorschläge verwalten" action="#{backEndController.berechtigungVorschlägePrüfen()}"/>
		</h:form>
</div>		
		
		<p:dataTable value="#{backEndController.filterTabelle}" var="land" id="filterTabelle">
			
			<f:facet name="header">Emmisionen Tabelle</f:facet>
			<p:column>
				<f:facet name="header">County Code</f:facet>
				<h:outputText value="#{land.countryCode}"/>
			</p:column>
			<p:column>
				<f:facet name="header">County Name</f:facet>
				<h:outputText value="#{land.countryName}"/>
			</p:column>
			<p:column>
				<f:facet name="header">Emissionen in t CO2 Eqivalent</f:facet>
				<h:outputText value="#{land.emmisionen}"/> 
			</p:column>
			<p:column>
				<f:facet name="header">Land bearbeiten/löschen</f:facet>
				<h:form>
				 		<h:commandButton action="#{backEndController.returnLand(land)}" value="Land bearbeiten/löschen"></h:commandButton>
				</h:form>
			</p:column>
			
		</p:dataTable>
	<f:metadata>
    <f:viewParam name="foo" value="#{bean.foo}" />
    <f:viewAction action="#{backEndController.berechtigungBackEndPrüfen()}" />
	</f:metadata>
</h:body>
</html>