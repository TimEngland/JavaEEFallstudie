<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
<link rel="stylesheet" type="text/css" media="screen" href="style.css"/>
  <title>Login</title>
</h:head>
<h:body>
 <h:form>
	<h:panelGrid columns="2">
      
     	<h:outputLabel for="benutzer">Benutzer: </h:outputLabel>
       	<h:inputText id="benutzer" value="#{loginController.user.userName}">
       		<f:event type="postValidate" listener="#{loginController.postValidateName}"/>
       	</h:inputText>
        
     	<h:outputLabel for="passwort">Passwort: </h:outputLabel>
       	<h:inputText id="passwort" validator="#{loginController.validateLogin}" value="#{loginController.user.passWort}"  /> 
      	
      	<h:commandLink value="login" action="#{loginController.login()}"/>
      </h:panelGrid>
      <h:messages/>
       </h:form>
       
       <h:form>
			<h:inputText value="#{loginController.suchEingabe}"></h:inputText>
			<p:ajax event="keyup" update="filterTabelle" listener="#{loginController.updateFilterTabelle}"/>
		</h:form>
		
		
		<p:dataTable value="#{loginController.filterTabelle}" var="land" id="filterTabelle"
						>
			
			<f:facet name="header">Emmisionen Tabelle</f:facet>
			<p:column>
				<f:facet name="header">County Code</f:facet>
				<h:outputText value="#{land.countryCode}"/>
			</p:column>
			<p:column>
				<f:facet name="header">County Name</f:facet>
				<h:outputText value="#{land.countryName}"/>
			</p:column>
			<p:column>
				<f:facet name="header">Emmisionen</f:facet>
				<h:outputText value="#{land.emmisionen}"/> 
			</p:column>
			<p:column>
				<h:form>
				 		<h:commandLink action="#{loginController.returnLand(land)}">Land bearbeiten</h:commandLink>
				</h:form>
			</p:column>
			
		</p:dataTable>
      	
</h:body>
</html>