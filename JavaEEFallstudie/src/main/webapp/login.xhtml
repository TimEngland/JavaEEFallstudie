<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
<link rel="stylesheet" type="text/css" media="screen" href="style1.css"/>
  <title>Login</title>
</h:head>
<h:body>
 <h:form>
	<h:panelGrid columns="2">
      
     	<h:outputLabel for="benutzer">Benutzer: </h:outputLabel>
       	<h:inputText id="benutzer" value="#{loginController.user.userName}" label="Benutzername" required="true">
       		<f:event type="postValidate" listener="#{loginController.postValidateName}"/>
       	</h:inputText>
        
     	<h:outputLabel for="passwort">Passwort: </h:outputLabel>
       	<h:inputSecret id="passwort" validator="#{loginController.validateLogin}" value="#{loginController.user.passWort}" label="Passwort" required="true" /> 
      	
      	<h:commandLink value="login" action="#{loginController.login()}"/>
      </h:panelGrid>
      <h:messages styleClass="error"/>
       </h:form>
       
       <h:form>
       		<h:outputLabel for="suchEingabe">Land suchen: </h:outputLabel>
			<h:inputText value="#{loginController.suchEingabe}" id="suchEingabe">
				<f:validateRegex pattern="[A-Za-zÄÜÖäüö\s]+"/>
			</h:inputText>
			<p:ajax event="keyup" update="filterTabelle" listener="#{loginController.updateFilterTabelle}"/>
		</h:form>
		
		
		<p:dataTable value="#{loginController.filterTabelle}" var="land" id="filterTabelle"
						>
			
			<f:facet name="header">Emissionen Tabelle</f:facet>
			<p:column>
				<f:facet name="header">County Code</f:facet>
				<h:outputText value="#{land.countryCode}"/>
			</p:column>
			<p:column>
				<f:facet name="header">County Name</f:facet>
				<h:outputText value="#{land.countryName}"/>
			</p:column>
			<p:column>
				<f:facet name="header">Emissionen in t CO2 Eqivalent</f:facet>
				<h:outputText value="#{land.emissionen}"/> 
			</p:column>
			
			
		</p:dataTable>
      	
</h:body>
</html>